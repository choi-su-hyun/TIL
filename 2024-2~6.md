# 2024년 2월 ~ 6월  

## 2월 3일

### 작업  
 탭구현 및 뒤로가기 설정
 
### 문제점 발견 및 해결
탭 내부의 내용을 클릭한 후 뒤로가기 했을때 기존에 사용하고 있던 탭이 아닌 초기 탭으로 돌아가는 문제에 직면했다.   
(예 : 두번째 탭에서 링크로 인한 페이지 전환 후 뒤로가기 했을때 첫번째 탭이 열려있어 사용자의 불편을 초래했다)   

  - 해결   
  url에 Query String을 삽입을 통해 해결했다. router의 replace를 이용해 탭 클릭 시 현재의 history에 url을 남겨주면서 뒤로가기 했을때 되돌아갈 수 있도록 했다.

### 배운점   
탭의 종류가 2 가지인 것 같다.
1. 탭을 사용 후 뒤로가기 했을 때 탭을 사용하기 전으로 이동
2. 뒤로가기 했을 때 이전 탭으로 이동

- router의 replace를 통해 웹 hitory에 남기며 이동하는 것이 아니라 현재 url을 교체 할 수 있다.
- query string을 이용해 페이지의 정보를 저장하고 웹 history를 이용해 뒤로가기 했을 때 원하는 페이지의 형태를 유지할 수 있다.
- query string만 골라서 받아올 수 가 있다.
```
const params = new URLSearchParams(url정보);
const tabFromQueryString = params.get('tab');
```

## 2월 5일

### 작업  
emotion styled 컴포넌트 props를 이용한 스타일 작업
 
### 문제점 발견 및 해결
props 이름을 display로 하여 해당 컴포넌트의 display를 컨트롤하는 구조를 제작했다. 하지만 attribute 관련 경고가 발생했다.   
문제는 display라는 속성이 실제로 존재하는데 그 속성을 props로 사용하다보니 해당 속성 값에 문자열 값이 아닌 boolean 값이 들어가서 일어나는 경고였다.   


  - 해결   
  기존의 속성을 props의 이름으로 사용하지 않으니 자연스럽게 해결되었다.

### 배운점   
typescript 입장에서도 기존에 존재하는 속성과 헷갈리기 때문에 기존의 속성을 props로 사용해서는 안된다는 것을 알 수 있었다.

## 2월 6일

### 작업  
Html로 작성되는 글을 클라이언트에서 렌더링
 
### 문제점 발견 및 해결
html 태그로 작성해두고 그 안에 서버에서 전달받은 html 문서를 전달하면 구현이 가능할 것이라고 생각했지만 다른 설정이 필요했다.   
(html 내에서 html 태그를 다시 사용하는 것은 좋지 않다는 경고문도 나타났다)


  - 해결
    dangerouslySetInnerHTML 라는 속성을 이용해야한다. __html이라는 키를 이용해야하며, 값으로 렌더링하고 싶은 html 문서를 전달해주니 정상적으로 html을 렌더링했다.
  ```
  dangerouslySetInnerHTML={{ __html: chartHeroSampleData.expertRecord || '' }}
```

### 배운점   
html 문서를 렌더링해주는 동시에 조심해야할 것이 있었다. 작성하는 작성란에 script를 작성한다면 html 문서이기 때문에 당연히 해당 스크립트를 작동시키게 된다.   
(CSXX를 대비하는 작업이 필요하다 추후 해당 부분 작업 시 학습하여 추가해둘 예정이다.)

## 2월 8일

### 작업  
scroll spy 작업
 
### 문제점 발견 및 해결
1. react-scroll 라이브러리를 통해 스크롤 이동까지는 작업이 되었으나 spy쪽에서 렌더링 후 작동이 되지 않아 수동으로 작동시켜야했다.(scrollSpy.update()를 useEffect()에서 실행시켜봤지만 해결되지 않았다)
2. 헤더로 인해 spy가 일어나는 인식 범위를 위쪽으로 더 늘려야하는 문제로 인해 각 목표개체의 인식 범위의 Y축을 낮춰보았지만 계산 오류인지 인식이 왔다갔다하는 문제가 발생했다.

  - 해결
    1. 현재 위치를 나타내기 위한 state(상세페이지 현재 탭 저장)를 통해 현재의 탭을 관리한다.
       목표개체의 id를 가져온다.(각각의 개체를 map과 같은 반복문을 통해 id를 가져온다)
       현재 스크롤의 위치와 목표물의 위치를 비교해서 화면의 상단과 위치가 맞물렸을 때 현재의 탭을 해당 탭으로 변경시킨다.
    2. 헤더로 인해 가려지는 부분을 고려해서 인식 범위를 더 키우기 위해 각 탭에게 인식 범위를 더 키워주었지만 이 부분으로 인해 인식이 왔다갔다하는 문제가 발생했었고,

### 배운점   
반복문을 통해 각각의 개체마다 현재 위치를 배열로 저장하여 관리하면 여러 개체의 높이 정보와 같은 중요 정보들을 더 간단하게 저장하고 관리할 수 있다.   
인식 범위를 늘리기 위해 각 개체의 현재 위치를 조정하는 것이 아니라 현재 스크롤의 위치를 조정하는 것이 브라우저가 인식하기에 더 좋다.   
(탭이 여러 개일 경우 각각의 탭마다 현재 위치를 변경하는 것은 비효율적이기도 하다.)

## 2월 10일

### 작업  
작성란에 한글 글자 작성 제한 작업
 
### 문제점 발견 및 해결
글자를 제한 하는 것은 input의 value 값의 길이를 조건으로 하여 제작할 수 있었다. 하지만 한글만 작성하는 부분은 정규식을 사용해야했다.

  - 해결
    영어를 인식하는 정규식을 통해 replace 메소드를 사용하여 현재 작성되는 value를 변경했다. input에 value를 state 값으로 작성해두었기 때문에 해당 state에 정규식으로 변경시킨 결과물이 작성되도록 했다.

### 배운점   
maxLength를 통해서 제한 할 수 있지만 한글은 적용되지 않을 뿐더러 form의 onSubmit 함수를 통해 데이터를 전송하는 것이 아니라면 검사가 되지 않는다고 한다.   
이 때문에 onChange에 조건문을 통해 제한을 거는 방식으로 작업해야한다.   
한글 정규식은 자음과 모음도 모두 판별할 수 있도록 작성해주어야하며, []를 이용해 해당 요소중 하나라도 있을 경우 작동되도록 해야한다.


